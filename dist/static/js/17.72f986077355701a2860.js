webpackJsonp([17],{383:function(n,a,t){"use strict";function e(n){s||t(891)}Object.defineProperty(a,"__esModule",{value:!0});var i=t(511),o=t(814),r=t(4),s=!1,d=e,l=t.i(r.a)(i.a,o.a,o.b,!1,d,"data-v-6c71a754",null);l.options.__file="src/views/Setting/AddBank.vue",a.default=l.exports},403:function(n,a,t){"use strict";a.a={props:["loading"]}},404:function(n,a,t){"use strict";function e(n){s||t(407)}var i=t(403),o=t(406),r=t(4),s=!1,d=e,l=t.i(r.a)(i.a,o.a,o.b,!1,d,"data-v-0066b2a2",null);l.options.__file="src/components/Shared/Loading.vue",a.a=l.exports},405:function(n,a,t){a=n.exports=t(2)(!1),a.push([n.i,"\n.loading[data-v-0066b2a2] {\n  padding: 50px 0px;\n}\n",""])},406:function(n,a,t){"use strict";t.d(a,"a",function(){return e}),t.d(a,"b",function(){return i});var e=function(){var n=this,a=n.$createElement;return(n._self._c||a)("div",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中"}})},i=[];e._withStripped=!0},407:function(n,a,t){var e=t(405);"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var i=t(3).default;i("984ececa",e,!1,{})},408:function(n,a,t){"use strict";function e(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=null,e=[];return function(){for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return clearTimeout(t),t=setTimeout(function(){var a=n.apply(void 0,r);e.forEach(function(n){return n(a)}),e=[]},a),new o.a(function(n){return e.push(n)})}}t.d(a,"b",function(){return r}),t.d(a,"a",function(){return s}),t.d(a,"c",function(){return d}),a.d=e;var i=t(51),o=t.n(i),r=function(n){return/^[1-9]+[0-9]*]*$/.test(n)},s=function(n,a){if("email"===n){return/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/.test(a)}if("mobile"===n){return/^1\d{10}$/.test(a)}if("name"===n){var t=a.toString().length;return t>=7&&t<=12}if("password"===n){var e=a.toString().length;return e>=6&&e<=12}if("bank"===n){return/^\d{16}|\d{19}$/.test(a)}},d=function(){var n=document.createElement("demo"),a={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var t in a)if(void 0!==n.style[t])return a[t]}},470:function(n,a,t){"use strict";a.a={props:["banksObj"],data:function(){return{angleDown:this.$fontawesome("angle-down")}},methods:{currentIndex:function(n){this.banksObj.currentBank=n}}}},511:function(n,a,t){"use strict";var e=t(732),i=t(404),o=t(408);a.a={data:function(){return{paginate:{page:1,per_page:100},banksObj:{banks:[],currentBank:""},bank:{no:"",realname:"",bank_id:"",desc:"",is_primary:!0},loading:!0,bodyLoading:!1,realnameFlag:!1,flag:!0}},components:{Bank:e.a,Loading:i.a},mounted:function(){this.fetchProfile(),this.banks()},methods:{toggle:function(){this.flag=!this.flag},fetchProfile:function(){var n=this;this.api.getProfile().then(function(a){n.bank.realname=a.data.realname,a.data.realname&&(n.realnameFlag=!0)}).catch(function(n){console.log(n)})},banks:function(){var n=this;this.loading=!0,this.api.getBanks(this.paginate).then(function(a){n.banksObj.banks=a.data&&a.data.items,n.loading=!1})},addBanks:function(){var n=this;return this.bank.no&&this.bank.realname?this.banksObj.currentBank?(this.bank.bank_id=this.banksObj.currentBank,t.i(o.a)("bank",this.bank.no)?(this.bodyLoading=!0,void this.api.postBankCards(this.bank).then(function(){n.bank.no="",n.bank.realname="",n.bank.bank_id="",n.bank.desc="",n.$message({type:"success",message:"银行卡添加成功，可在银行账户查看"}),n.bodyLoading=!1,n.$router.back()}).catch(function(){n.bodyLoading=!1})):void this.$message({message:"银行卡号格式错误",type:"warning"})):void this.$message({message:"请选择银行",type:"warning"}):void this.$message({message:"必填字段不能为空",type:"warning"})}}}},589:function(n,a,t){a=n.exports=t(2)(!1),a.push([n.i,"\n.overflow[data-v-6c71a754] {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.break-word[data-v-6c71a754] {\n  word-wrap: break-word;\n  word-break: break-all;\n}\n.sr-only[data-v-6c71a754] {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}\n.banks[data-v-6c71a754] {\n  width: 1260px;\n  margin: 0 auto;\n}\n.add_bank[data-v-6c71a754] {\n  background-color: #0b0e31;\n  padding: 30px 40px;\n}\n.title-h1[data-v-6c71a754] {\n  color: #ffffff;\n  margin-bottom: 20px;\n}\n.title-h1 span[data-v-6c71a754] {\n    font-size: 24px;\n}\n.title-h1 span[data-v-6c71a754]:first-of-type {\n      font-weight: bold;\n      padding-right: 3px;\n}\n.title-h1 span[data-v-6c71a754]:last-of-type {\n      font-weight: lighter;\n}\n.input[data-v-6c71a754] {\n  padding: 20px 0px;\n  width: 100%;\n}\n.input .name[data-v-6c71a754] {\n    color: #ffffff;\n    font-size: 14px;\n    padding-right: 10px;\n    font-weight: bold;\n    padding-bottom: 10px;\n    display: block;\n}\n.input .cell[data-v-6c71a754] {\n    margin-right: 100px;\n    padding-bottom: 20px;\n}\n.input input[data-v-6c71a754] {\n    width: 400px;\n    padding: 0px 10px;\n    height: 45px;\n    line-height: 45px;\n    border: 1px solid #0e2454;\n    background-color: #122151;\n    border-radius: 4px;\n    color: #ffffff;\n}\n.input input[data-v-6c71a754]::-webkit-input-placeholder {\n      color: #ffffff;\n}\n.input input[data-v-6c71a754]:-ms-input-placeholder {\n      color: #ffffff;\n}\n.input input[data-v-6c71a754]::-ms-input-placeholder {\n      color: #ffffff;\n}\n.input input[data-v-6c71a754]::placeholder {\n      color: #ffffff;\n}\n.input input[data-v-6c71a754]:disabled {\n      color: rgba(255, 255, 255, 0.5);\n      font-weight: bold;\n}\n.input .button[data-v-6c71a754] {\n    display: block;\n    padding: 10px 80px;\n    background-color: #fcd667;\n    text-align: center;\n    color: #0b0e31;\n    border-radius: 20px;\n    border: none;\n}\n.input .button[data-v-6c71a754]:disabled {\n      opacity: .7;\n}\n.block[data-v-6c71a754] {\n  border-bottom: 1px solid #122151;\n  padding-bottom: 70px;\n}\n.block .title[data-v-6c71a754] {\n    font-size: 14px;\n    color: #fcd667;\n}\n.block .fr[data-v-6c71a754] {\n    width: 100%;\n    margin-top: 20px;\n    text-align: center;\n    font-size: 12px;\n    font-weight: normal;\n    color: #ffffff;\n}\n.block .fr span[data-v-6c71a754] {\n      padding: 5px 20px;\n      border: 2px solid #ffffff;\n      border-radius: 20px;\n      opacity: .5;\n}\n.block .fr span[data-v-6c71a754]:hover {\n        opacity: 1;\n}\n",""])},594:function(n,a,t){a=n.exports=t(2)(!1),a.push([n.i,"\n.overflow[data-v-7622252a] {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.break-word[data-v-7622252a] {\n  word-wrap: break-word;\n  word-break: break-all;\n}\n.sr-only[data-v-7622252a] {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}\n.error-all[data-v-7622252a] {\n  display: block;\n  margin: 10px auto;\n}\n.banks[data-v-7622252a] {\n  margin-top: 10px;\n  padding-right: 20px;\n}\n.banks .active[data-v-7622252a] {\n    border: 1px solid #4A90E2;\n    position: relative;\n    opacity: 1;\n}\n.banks .active[data-v-7622252a]:after {\n      content: '';\n      position: absolute;\n      border-right: 10px solid transparent;\n      border-left: 10px solid transparent;\n      border-bottom: 10px solid #4A90E2;\n      top: -2px;\n      right: -7px;\n      -webkit-transform: rotate(45deg);\n              transform: rotate(45deg);\n}\n.banks .active[data-v-7622252a]:before {\n      content: '';\n      position: absolute;\n      z-index: 1;\n      top: 1px;\n      right: 2px;\n      width: 2px;\n      height: 4px;\n      display: inline-block;\n      border-right: 1px solid #ffffff;\n      border-bottom: 1px solid #ffffff;\n      -webkit-transform: rotate(45deg);\n              transform: rotate(45deg);\n}\n.bank[data-v-7622252a] {\n  min-width: 190px;\n  height: 45px;\n  line-height: 45px;\n  border: 1px solid #ffffff;\n  font-weight: bold;\n  background-color: #ffffff;\n  text-align: center;\n  margin-bottom: 10px;\n  margin-right: 10px;\n  padding: 0px 20px;\n  opacity: .5;\n  text-align: left;\n}\n.bank .img[data-v-7622252a] {\n    width: 24px;\n    height: 24px;\n    vertical-align: middle;\n    position: relative;\n    bottom: 4px;\n}\n.bank .img img[data-v-7622252a] {\n      border-radius: 50%;\n}\n.bank .txt[data-v-7622252a] {\n    color: #0b0e31;\n    text-align: left;\n    padding-left: 5px;\n}\n",""])},732:function(n,a,t){"use strict";function e(n){s||t(896)}var i=t(470),o=t(820),r=t(4),s=!1,d=e,l=t.i(r.a)(i.a,o.a,o.b,!1,d,"data-v-7622252a",null);l.options.__file="src/components/Setting/Bank.vue",a.a=l.exports},814:function(n,a,t){"use strict";t.d(a,"a",function(){return e}),t.d(a,"b",function(){return i});var e=function(){var n=this,a=n.$createElement,t=n._self._c||a;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:n.bodyLoading,expression:"bodyLoading"}],staticClass:"banks"},[n._m(0),n._v(" "),t("div",{staticClass:"add_bank"},[t("div",{staticClass:"block"},[t("p",{staticClass:"title"},[n._v("选择银行")]),n._v(" "),n.loading?t("loading",{attrs:{loading:n.loading}}):n.flag?t("bank",{attrs:{banksObj:n.banksObj}}):n._e(),n._v(" "),t("p",{staticClass:"hand fr",on:{click:function(a){n.toggle()}}},[n.flag?t("span",[n._v("收起列表")]):t("span",[n._v("展开列表")])])],1),n._v(" "),t("div",{staticClass:"input"},[t("span",{staticClass:"cell dl"},[t("span",{staticClass:"name"},[n._v("银行卡号")]),t("input",{directives:[{name:"model",rawName:"v-model",value:n.bank.no,expression:"bank.no"}],attrs:{placeholder:"必填"},domProps:{value:n.bank.no},on:{input:function(a){a.target.composing||n.$set(n.bank,"no",a.target.value)}}})]),n._v(" "),t("span",{staticClass:"cell dl"},[t("span",{staticClass:"name"},[n._v("银行支行")]),t("input",{directives:[{name:"model",rawName:"v-model",value:n.bank.desc,expression:"bank.desc"}],attrs:{placeholder:"可不填"},domProps:{value:n.bank.desc},on:{input:function(a){a.target.composing||n.$set(n.bank,"desc",a.target.value)}}})]),n._v(" "),t("span",{staticClass:"cell dl"},[t("span",{staticClass:"name"},[n._v("持卡人姓名")]),t("input",{directives:[{name:"model",rawName:"v-model",value:n.bank.realname,expression:"bank.realname"}],attrs:{disabled:n.realnameFlag,placeholder:"必填"},domProps:{value:n.bank.realname},on:{input:function(a){a.target.composing||n.$set(n.bank,"realname",a.target.value)}}})]),n._v(" "),t("button",{staticClass:"button hand",attrs:{disabled:!n.bank.no||!n.bank.realname},on:{click:function(a){n.addBanks()}}},[n._v("确认并提交")])])])])},i=[function(){var n=this,a=n.$createElement,t=n._self._c||a;return t("p",{staticClass:"title-h1"},[t("span",[n._v("新增银行卡")]),t("span",[n._v("Add")])])}];e._withStripped=!0},820:function(n,a,t){"use strict";t.d(a,"a",function(){return e}),t.d(a,"b",function(){return i});var e=function(){var n=this,a=n.$createElement,t=n._self._c||a;return n.banksObj.banks.length?t("div",{staticClass:"banks"},n._l(n.banksObj.banks,function(a,e){return t("div",{staticClass:"bank hand dl",class:{active:n.banksObj.currentBank===a.id},on:{click:function(t){n.currentIndex(a.id)}}},[t("span",{staticClass:"img dl"},[t("img",{attrs:{src:a.image_url,width:"100%",height:"100%"}})]),n._v(" "),t("span",{staticClass:"txt dl"},[n._v(n._s(a.name))])])})):t("div",{staticClass:"error-all"})},i=[];e._withStripped=!0},891:function(n,a,t){var e=t(589);"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var i=t(3).default;i("12d310d3",e,!1,{})},896:function(n,a,t){var e=t(594);"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var i=t(3).default;i("1951621c",e,!1,{})}});
//# sourceMappingURL=17.72f986077355701a2860.js.map