webpackJsonp([18],{396:function(n,t,a){"use strict";function e(n){d||a(869)}Object.defineProperty(t,"__esModule",{value:!0});var o=a(525),i=a(791),s=a(4),d=!1,r=e,c=a.i(s.a)(o.a,i.a,i.b,!1,r,"data-v-46f7ed6d",null);c.options.__file="src/views/Task/Award.vue",t.default=c.exports},403:function(n,t,a){"use strict";t.a={props:["loading"]}},404:function(n,t,a){"use strict";function e(n){d||a(407)}var o=a(403),i=a(406),s=a(4),d=!1,r=e,c=a.i(s.a)(o.a,i.a,i.b,!1,r,"data-v-0066b2a2",null);c.options.__file="src/components/Shared/Loading.vue",t.a=c.exports},405:function(n,t,a){t=n.exports=a(2)(!1),t.push([n.i,"\n.loading[data-v-0066b2a2] {\n  padding: 50px 0px;\n}\n",""])},406:function(n,t,a){"use strict";a.d(t,"a",function(){return e}),a.d(t,"b",function(){return o});var e=function(){var n=this,t=n.$createElement;return(n._self._c||t)("div",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中"}})},o=[];e._withStripped=!0},407:function(n,t,a){var e=a(405);"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var o=a(3).default;o("984ececa",e,!1,{})},495:function(n,t,a){"use strict";t.a={props:["award"],methods:{closed:function(){this.award.flag=!1}}}},525:function(n,t,a){"use strict";var e=a(36),o=a.n(e),i=a(404),s=a(757);t.a={data:function(){return{check:this.$fontawesome("check-circle-o"),exclamation:this.$fontawesome("exclamation-circle"),thumb:this.$fontawesome("thumb-tack"),loading:!0,tasks:[],award:{flag:!1,privileges:[]}}},components:{Loading:i.a,Award:s.a},mounted:function(){this.getTasks()},methods:{getTasks:function(){var n=this;this.api.getTasks().then(function(t){n.tasks=t.data.items||[]})},toggleFold:function(n){this.$set(n,"$unfold",!n.$unfold),n.schedules||this.$set(n,"schedules",{}),n.$unfold&&this.getTask(n)},getTask:function(n){var t=this;this.loading=!0,this.api.getTask(n.id,{klass_name:n.klass_name}).then(function(a){t.loading=!1,o()(n,a.data)}).catch(function(){t.loading=!1})},taskMakeProcess:function(n){var t=this;n._isQuestProcess||(n._isQuestProcess=!0,this.api.postTaskMakeProcess(n.id,{klass_name:n.klass_name}).then(function(a){o()(n,a.data),t.getTask(n)}).catch(function(){n._isQuestProcess=!1}))},taskMakeReceived:function(n){var t=this;this.award.flag=!0,this.api.postTaskMakeReceived(n.id,{klass_name:n.klass_name}).then(function(a){t.award.privileges=a.data.items,t.getTask(n)})}}}},567:function(n,t,a){t=n.exports=a(2)(!1),t.push([n.i,"\n.overflow[data-v-46f7ed6d] {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.break-word[data-v-46f7ed6d] {\n  word-wrap: break-word;\n  word-break: break-all;\n}\n.sr-only[data-v-46f7ed6d] {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}\nul[data-v-46f7ed6d], li[data-v-46f7ed6d] {\n  list-style: decimal;\n  margin: 0px;\n}\nul[data-v-46f7ed6d] {\n  padding: 10px;\n}\nli[data-v-46f7ed6d] {\n  padding-bottom: 10px;\n}\n.task-name[data-v-46f7ed6d] {\n  color: #fcd667;\n  font-weight: bold;\n  font-size: 14px;\n  padding-bottom: 15px;\n}\n.task-name .fa[data-v-46f7ed6d] {\n    padding-right: 5px;\n    font-size: 14px;\n}\n.list[data-v-46f7ed6d] {\n  width: 300px;\n  margin-bottom: 20px;\n  margin-right: 15px;\n  background-color: #122151;\n  margin-bottom: 20px;\n  padding-bottom: 20px;\n  vertical-align: top;\n  border: 1px solid #fcd667;\n  position: relative;\n}\n.list[data-v-46f7ed6d]:after {\n    position: absolute;\n    top: -2.2px;\n    right: -7px;\n    content: '';\n    border-left: 10px solid transparent;\n    border-right: 10px solid transparent;\n    border-bottom: 10px solid #fcd667;\n    -webkit-transform: rotate(45deg);\n            transform: rotate(45deg);\n}\n.coupon[data-v-46f7ed6d] {\n  padding-bottom: 10px;\n  border-bottom: 1px solid #fcd667;\n  padding: 20px;\n}\n.coupon .coupon-info[data-v-46f7ed6d] {\n    color: #fcd667;\n    padding-top: 5px;\n}\n.coupon .coupon-info .fa[data-v-46f7ed6d] {\n      padding-right: 5px;\n}\n.coupon img[data-v-46f7ed6d] {\n    width: 36px;\n    height: 36px;\n    border-radius: 5px;\n}\n.coupon .title[data-v-46f7ed6d] {\n    vertical-align: top;\n    padding-left: 10px;\n    width: 82%;\n    text-align: justify;\n}\n.coupon .h5[data-v-46f7ed6d] {\n    color: #fcd667;\n    font-size: 14px;\n    font-weight: bold;\n    padding-bottom: 5px;\n}\n.coupon .h6[data-v-46f7ed6d] {\n    color: #ffffff;\n}\n.content[data-v-46f7ed6d] {\n  color: #ffffff;\n  padding: 10px 20px;\n}\n.content .none[data-v-46f7ed6d] {\n    color: #ffffff;\n}\n.content .check-blue[data-v-46f7ed6d] {\n    color: #0B7DB1;\n    padding-left: 10px;\n    font-size: 14px;\n}\n.content .check-grey[data-v-46f7ed6d] {\n    color: #9B9B9B;\n    padding-left: 10px;\n    font-size: 14px;\n}\n.content .color-grey[data-v-46f7ed6d] {\n    color: #9B9B9B;\n}\n.footer[data-v-46f7ed6d] {\n  height: 40px;\n  width: 100%;\n  padding: 15px 20px;\n}\n.footer .button[data-v-46f7ed6d] {\n    width: 150px;\n    margin: 0 auto;\n    height: 30px;\n    line-height: 30px;\n    word-spacing: 2px;\n    letter-spacing: 2px;\n    text-align: center;\n    border-radius: 20px;\n    color: #122151;\n}\n.footer .gray[data-v-46f7ed6d] {\n    background-color: #D7D7D7;\n}\n.footer .orange[data-v-46f7ed6d] {\n    background-color: #fcd667;\n}\n.footer .red[data-v-46f7ed6d] {\n    background-color: #D9534F;\n}\n",""])},574:function(n,t,a){t=n.exports=a(2)(!1),t.push([n.i,"\n.overflow[data-v-559fbede] {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.break-word[data-v-559fbede] {\n  word-wrap: break-word;\n  word-break: break-all;\n}\n.sr-only[data-v-559fbede] {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}\n.privileges[data-v-559fbede] {\n  position: fixed;\n  top: 25%;\n  left: 40%;\n  z-index: 100;\n  background-color: #ffffff;\n  border-radius: 5px;\n  min-width: 400px;\n}\n.privileges .font[data-v-559fbede] {\n    font-weight: bold;\n    padding: 3px 0px;\n}\n.privileges .title[data-v-559fbede] {\n    height: 0px;\n    background-color: #ffffff;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n.privileges .content p[data-v-559fbede] {\n    font-size: 14px;\n}\n.fill-in[data-v-559fbede] {\n  z-index: 2;\n  text-align: center;\n  padding: 2rem .3rem;\n}\n.fill-in .ok[data-v-559fbede] {\n    background-color: #fcd667;\n    color: #0b0e31;\n    padding: 8px;\n    width: 60%;\n    margin: 0px auto;\n    margin-top: 20px;\n    border-radius: 2rem;\n}\n.mask-layer[data-v-559fbede] {\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: #000000;\n  opacity: 0.5;\n  z-index: 99;\n}\n",""])},757:function(n,t,a){"use strict";function e(n){d||a(876)}var o=a(495),i=a(798),s=a(4),d=!1,r=e,c=a.i(s.a)(o.a,i.a,i.b,!1,r,"data-v-559fbede",null);c.options.__file="src/components/Task/TaskAward.vue",t.a=c.exports},791:function(n,t,a){"use strict";a.d(t,"a",function(){return e}),a.d(t,"b",function(){return o});var e=function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",[n._l(n.tasks,function(t,e){return a("div",[a("p",{staticClass:"task-name"},[a("span",{staticClass:"fa"},[n._v(n._s(n.thumb))]),n._v(n._s(t.task_cate_name))]),n._v(" "),n._l(t.quests,function(t){return a("div",{staticClass:"list dl"},[a("div",{staticClass:"coupon hand",on:{click:function(a){n.toggleFold(t)}}},[a("span",{staticClass:"dl"},[a("img",{attrs:{src:t.image_url,width:"100%",height:"100%"}})]),n._v(" "),a("span",{staticClass:"title dl"},[a("p",{staticClass:"h5"},[n._v(n._s(t.name))]),n._v(" "),a("p",{staticClass:"h6"},[n._v("奖励："+n._s(t.desc))]),n._v(" "),a("p",{staticClass:"coupon-info hand"},[a("span",{staticClass:"fa"},[n._v(n._s(n.exclamation))]),n._v("点击查看此任务进度")])])]),n._v(" "),t.$unfold?a("div",{staticClass:"content"},[a("p",[n._v("任务进度:")]),n._v(" "),t.schedules&&t.schedules.length?a("ul",n._l(t.schedules,function(t){return a("span",[t.finished?a("li",[n._v(n._s(t.text)),a("span",{staticClass:"check-blue fa"},[n._v(n._s(n.check))])]):a("li",{staticClass:"color-grey"},[n._v(n._s(t.text)),a("span",{staticClass:"check-grey fa"},[n._v(n._s(n.check))])])])})):n.loading?n.loading?a("loading",{attrs:{loading:n.loading}}):n._e():a("ul",{staticClass:"none"},[n._v("\n          无\n        ")])],1):n._e(),n._v(" "),a("div",{staticClass:"footer"},["status_created"===t.status?a("p",{staticClass:"button orange hand",on:{click:function(a){n.taskMakeProcess(t)}}},[n._v("开始任务")]):n._e(),n._v(" "),"status_processing"===t.status?a("p",{staticClass:"button gray hand"},[n._v(n._s(t.percent)+"%")]):n._e(),n._v(" "),"status_completed"===t.status?a("p",{staticClass:"button red hand",on:{click:function(a){n.taskMakeReceived(t)}}},[n._v("领取奖励")]):n._e(),n._v(" "),"status_received"===t.status?a("p",{staticClass:"button gray hand"},[n._v("已领取")]):n._e()])])})],2)}),n._v(" "),n.tasks.length?n._e():a("loading",{attrs:{loading:!n.tasks.length}}),n._v(" "),n.award.flag?a("award",{attrs:{award:n.award}}):n._e()],2)},o=[];e._withStripped=!0},798:function(n,t,a){"use strict";a.d(t,"a",function(){return e}),a.d(t,"b",function(){return o});var e=function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",[a("div",{staticClass:"privileges"},[a("p",{staticClass:"title"}),n._v(" "),a("div",{staticClass:"fill-in"},[n.award&&n.award.privileges.length?a("div",[a("div",{staticClass:"content"},[a("p",[n._v("恭喜您获得:")]),n._v(" "),n._l(n.award.privileges,function(t){return a("p",{staticClass:"font"},[n._v(n._s(t.text))])})],2)]):a("div",{staticClass:"no-data"},[n._v("请稍等,奖励提取中...")]),n._v(" "),a("p",{staticClass:"ok hand",on:{click:function(t){n.closed()}}},[n._v("确定")])])]),n._v(" "),a("div",{staticClass:"mask-layer"})])},o=[];e._withStripped=!0},869:function(n,t,a){var e=a(567);"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var o=a(3).default;o("4fa999f2",e,!1,{})},876:function(n,t,a){var e=a(574);"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var o=a(3).default;o("37eddc83",e,!1,{})}});
//# sourceMappingURL=18.81da47ceb47bb22c4e04.js.map