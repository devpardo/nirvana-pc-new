webpackJsonp([11],{381:function(t,a,n){"use strict";function e(t){o||n(854)}Object.defineProperty(a,"__esModule",{value:!0});var s=n(509),r=n(775),i=n(4),o=!1,l=e,c=n.i(i.a)(s.a,r.a,r.b,!1,l,"data-v-28a7b29f",null);c.options.__file="src/views/SearchResult.vue",a.default=c.exports},403:function(t,a,n){"use strict";a.a={props:["loading"]}},404:function(t,a,n){"use strict";function e(t){o||n(407)}var s=n(403),r=n(406),i=n(4),o=!1,l=e,c=n.i(i.a)(s.a,r.a,r.b,!1,l,"data-v-0066b2a2",null);c.options.__file="src/components/Shared/Loading.vue",a.a=c.exports},405:function(t,a,n){a=t.exports=n(2)(!1),a.push([t.i,"\n.loading[data-v-0066b2a2] {\n  padding: 50px 0px;\n}\n",""])},406:function(t,a,n){"use strict";n.d(a,"a",function(){return e}),n.d(a,"b",function(){return s});var e=function(){var t=this,a=t.$createElement;return(t._self._c||a)("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中"}})},s=[];e._withStripped=!0},407:function(t,a,n){var e=n(405);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=n(3).default;s("984ececa",e,!1,{})},421:function(t,a,n){"use strict";var e=n(434);a.a={props:["game","param","gamesOfVendor","handleLike"],data:function(){return{heart:this.$fontawesome("heart-o"),heartFull:this.$fontawesome("heart")}},components:{Star:e.a},methods:{gameDetail:function(t){this.param?this.$router.push({name:"GameDetail",params:{code:this.param.code,taxonomyId:this.param.taxonomyId,gid:t}}):this.$router.push({name:"GameDetail",params:{gid:t}})},like:function(t){var a=this;this.api.postLike(t.gid).then(function(){a.$set(t,"liked",!0),a.$message({message:"添加收藏成功",type:"success"})})},unlike:function(t){var a=this;this.api.postUnlike(t.gid).then(function(){a.$set(t,"liked",!1),a.handleLike&&a.handleLike(),a.$message({message:"取消收藏成功",type:"success"})})}}}},423:function(t,a,n){"use strict";a.a={props:["starsData"],data:function(){return{starO:this.$fontawesome("star-o"),starHalfO:this.$fontawesome("star-half-o"),star:this.$fontawesome("star")}}}},426:function(t,a,n){"use strict";a.a={data:function(){return{paginateMeta:{},loading:!1,items:[],data:null}},methods:{beforeFetch:function(){this.items=[],this.loading=!0},fetchData:function(){},_fetchData:function(t){var a=this;this.beforeFetch(),t.then(function(t){a.afterFetch(t.data)}).catch(function(){a.loading=!1})},afterFetch:function(t){this.loading=!1,this.paginateMeta=t.paginate_meta,this.data=t,this.items=t.items}},watch:{$route:["fetchData"]},mounted:function(){this.fetchData()}}},427:function(t,a,n){"use strict";var e=n(36),s=n.n(e);a.a={data:function(){return{q:{}}},watch:{$route:["fillData"]},methods:{fillData:function(){var t=this,a={page:1,per_page:10};for(var n in this.$route.query)n.startsWith("q_")?a[n]=this.$route.query[n]:n.match(/page/)?(a[n]=parseInt(this.$route.query[n]),a[n]||"page"!==n?a[n]||"per_page"!==n||(a[n]=10):a[n]=1):a[n]=this.$route.query[n];var e={};this.searches&&this.searches.forEach(function(a){a.control&&a.control.match("checkbox")?"true"===t.$route.query[a.key]?e[a.key]=!0:"false"===t.$route.query[a.key]?e[a.key]=!1:e[a.key]=t.$route.query[a.key]||"":a.control&&a.control.match("range-date")?t.$route.query[a.key1]?e[a.key]=[new Date(t.$route.query[a.key1]),new Date(t.$route.query[a.key2])]:e[a.key]=[]:a.key.match(/_id_eq$/)&&t.$route.query[a.key]?e[a.key]=parseInt(t.$route.query[a.key]):e[a.key]=t.$route.query[a.key]}),this.q=s()(a,e)}},mounted:function(){this.fillData()}}},428:function(t,a,n){a=t.exports=n(2)(!1),a.push([t.i,"\n.overflow[data-v-46e50908], .game .footer .txt[data-v-46e50908] {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.break-word[data-v-46e50908] {\n  word-wrap: break-word;\n  word-break: break-all;\n}\n.sr-only[data-v-46e50908] {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}\n.game[data-v-46e50908] {\n  width: 200px;\n  padding: 10px;\n}\n.game[data-v-46e50908]:hover {\n    -webkit-animation: opacity-data-v-46e50908 0.2s ease-in;\n            animation: opacity-data-v-46e50908 0.2s ease-in;\n    background-color: rgba(255, 255, 255, 0.2);\n    border-radius: 6px;\n}\n.game .img[data-v-46e50908] {\n    width: 100%;\n    height: 180px;\n    position: relative;\n}\n.game .img img[data-v-46e50908] {\n      border-radius: 5px;\n}\n.game .img:hover .mask-layer[data-v-46e50908] {\n      display: none;\n}\n.game .img:hover .mask-layer-1[data-v-46e50908] {\n      background-color: rgba(0, 0, 0, 0.5);\n      display: block;\n      z-index: 2001;\n}\n.game .layer[data-v-46e50908] {\n    position: absolute;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n    padding: 0px 10px;\n    padding-top: 10px;\n    border-radius: 5px;\n    width: 100%;\n    -webkit-transition: background-color .5s ease-in;\n    transition: background-color .5s ease-in;\n}\n.game .mask-layer[data-v-46e50908] {\n    background-color: transparent;\n}\n.game .mask-layer .tag[data-v-46e50908] {\n      padding: 2px 10px;\n      margin-bottom: 6px;\n      background-color: rgba(18, 33, 81, 0.7);\n      color: #ffffff;\n      margin-right: 5px;\n      border-radius: 5px;\n      white-space: nowrap;\n}\n.game .mask-layer-1[data-v-46e50908] {\n    display: none;\n}\n.game .mask-layer-1 .heart[data-v-46e50908] {\n      padding: 5px;\n      background-color: #ffffff;\n      border-radius: 2px;\n}\n.game .mask-layer-1 .full[data-v-46e50908] {\n      color: #CF1031;\n}\n.game .mask-layer-1 .un-full[data-v-46e50908] {\n      color: #4A4A4A;\n}\n.game .mask-layer-1 .desc[data-v-46e50908] {\n      color: #ffffff;\n      position: absolute;\n      max-height: 150px;\n      bottom: 10px;\n      right: 10px;\n      left: 10px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n}\n.game .footer[data-v-46e50908] {\n    width: 100%;\n    min-height: 53px;\n    padding-top: 5px;\n}\n.game .footer .info[data-v-46e50908] {\n      width: 100%;\n}\n.game .footer .action[data-v-46e50908] {\n      padding-top: 10px;\n      padding-bottom: 5px;\n}\n.game .footer .txt[data-v-46e50908] {\n      color: #ffffff;\n      font-weight: bold;\n      width: 73%;\n}\n.game .footer .tag[data-v-46e50908] {\n      color: #122151;\n      background-color: #fcd667;\n      padding: 0px 5px;\n      border-radius: 3px;\n      overflow: hidden;\n      white-space: nowrap;\n      max-width: 22%;\n      vertical-align: top;\n}\n@-webkit-keyframes opacity-data-v-46e50908 {\n0% {\n    opacity: 0;\n}\n50% {\n    opacity: 0.5;\n}\n100% {\n    opacity: 1;\n}\n}\n@keyframes opacity-data-v-46e50908 {\n0% {\n    opacity: 0;\n}\n50% {\n    opacity: 0.5;\n}\n100% {\n    opacity: 1;\n}\n}\n",""])},430:function(t,a,n){a=t.exports=n(2)(!1),a.push([t.i,"\n.overflow[data-v-d721f448] {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.break-word[data-v-d721f448] {\n  word-wrap: break-word;\n  word-break: break-all;\n}\n.sr-only[data-v-d721f448] {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}\n.color-yellow[data-v-d721f448] {\n  color: #fcd667;\n}\n",""])},432:function(t,a,n){"use strict";function e(t){o||n(440)}var s=n(421),r=n(436),i=n(4),o=!1,l=e,c=n.i(i.a)(s.a,r.a,r.b,!1,l,"data-v-46e50908",null);c.options.__file="src/components/Shared/Game.vue",a.a=c.exports},434:function(t,a,n){"use strict";function e(t){o||n(442)}var s=n(423),r=n(439),i=n(4),o=!1,l=e,c=n.i(i.a)(s.a,r.a,r.b,!1,l,"data-v-d721f448",null);c.options.__file="src/components/Shared/Star.vue",a.a=c.exports},436:function(t,a,n){"use strict";n.d(a,"a",function(){return e}),n.d(a,"b",function(){return s});var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("div",{staticClass:"game hand dl",on:{click:function(a){t.gameDetail(t.game.gid)}}},[n("div",{staticClass:"img"},[n("img",{attrs:{src:t.game.image_url,width:"100%",height:"100%"}}),t._v(" "),n("div",{staticClass:"mask-layer layer hand"},[t.game.tag_list.length>3?n("span",t._l(t.game.tag_list.slice(0,3),function(a){return n("span",{staticClass:"tag dl"},[t._v(t._s(a))])})):n("span",t._l(t.game.tag_list,function(a){return n("span",{staticClass:"tag dl"},[t._v(t._s(a))])}))]),t._v(" "),n("div",{staticClass:"mask-layer-1 layer hand"},[t.game.liked?n("span",{staticClass:"heart full hand fa fr",on:{click:function(a){a.stopPropagation(),t.unlike(t.game)}}},[t._v(t._s(t.heartFull))]):n("span",{staticClass:"heart un-full hand fa fr",on:{click:function(a){a.stopPropagation(),t.like(t.game)}}},[t._v(t._s(t.heart))]),t._v(" "),n("p",{staticClass:"desc"},[t._v(t._s(t.game.desc))])])]),t._v(" "),n("div",{staticClass:"footer"},[n("p",{staticClass:"info"},[n("span",{staticClass:"txt dl"},[t._v(t._s(t.game.name))]),t._v(" "),n("span",{staticClass:"tag fr dl"},[t._v(t._s(t.game.vendor_name))])]),t._v(" "),n("p",[n("star",{attrs:{starsData:t.game.star_rank}})],1)])])])},s=[];e._withStripped=!0},439:function(t,a,n){"use strict";n.d(a,"a",function(){return e}),n.d(a,"b",function(){return s});var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return t.starsData?n("span",[t._l(parseInt(t.starsData),function(a){return n("span",[a?n("span",{staticClass:"fa color-yellow"},[t._v(t._s(t.star))]):t._e(),t._v(" "),a+.5===parseFloat(t.starsData)?n("span",{staticClass:"fa color-yellow"},[t._v(t._s(t.starHalfO))]):t._e()])}),t._v(" "),t.starsData&&"0"!==t.starsData?n("span"):"0"!==t.starsData&&t.starsData?t._e():n("span",[t._v("暂无评分")])],2):n("span",[t._v("暂无评分")])},s=[];e._withStripped=!0},440:function(t,a,n){var e=n(428);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=n(3).default;s("afeff626",e,!1,{})},442:function(t,a,n){var e=n(430);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=n(3).default;s("b73b3028",e,!1,{})},509:function(t,a,n){"use strict";var e=n(36),s=n.n(e),r=n(432),i=n(404),o=n(427),l=n(426);a.a={mixins:[o.a,l.a],data:function(){return{searchText:this.$route.query.searchText,check:this.$fontawesome("check-square"),vendors:[],vendorsLabels:[],searchItems:[]}},computed:{calcQ:function(){var t={q_vendor_id_in:[],q_tags_name_in:[],q_name_cont:this.searchText,per_page:200};return this.searchItems.forEach(function(a){a.id?t.q_vendor_id_in.push(a.id):t.q_tags_name_in.push(a.name)}),t}},methods:{fetchData:function(){this._fetchData(this.api.getGames(this.calcQ))},fetchVendors:function(){var t=this;this.api.getVendors().then(function(a){t.vendors=a.data.items})},fetchVendorLabels:function(){var t=this;this.api.getVendorsLabels().then(function(a){t.vendorsLabels=a.data.items})},toggleSearchItem:function(t){this.$set(t,"isCheck",!t.isCheck),t.isCheck?this.searchItems.push(t):this.searchItems.remove(t),this.$router.push({query:s()(this.q,this.calcQ)})},resetSearch:function(){this.searchItems.forEach(function(t){t.isCheck=!1}),this.searchItems=[],this.$router.push({query:s()(this.q,this.calcQ)})}},mounted:function(){this.fetchVendors(),this.fetchVendorLabels()},components:{Game:r.a,Loading:i.a}}},552:function(t,a,n){a=t.exports=n(2)(!1),a.push([t.i,"\n.overflow[data-v-28a7b29f] {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.break-word[data-v-28a7b29f] {\n  word-wrap: break-word;\n  word-break: break-all;\n}\n.sr-only[data-v-28a7b29f] {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}\n.error-all[data-v-28a7b29f] {\n  margin: 0 auto;\n  display: block;\n}\n.search-module[data-v-28a7b29f] {\n  width: 1280px;\n  padding: 20px 0 0 20px;\n  margin: 20px auto;\n}\n.search-module .title-h1[data-v-28a7b29f] {\n    color: #ffffff;\n    margin-bottom: 20px;\n}\n.search-module .title-h1 span[data-v-28a7b29f] {\n      font-size: 24px;\n}\n.search-module .title-h1 span[data-v-28a7b29f]:first-of-type {\n        font-weight: bold;\n        padding-right: 3px;\n}\n.search-module .title-h1 span[data-v-28a7b29f]:last-of-type {\n        font-weight: bold;\n}\n.search-module .search-content[data-v-28a7b29f] {\n    background-color: #122151;\n    padding: 20px;\n}\n.search-module .search-content .result[data-v-28a7b29f], .search-module .search-content .value[data-v-28a7b29f] {\n      color: #ffffff;\n      font-size: 14px;\n      font-weight: lighter;\n}\n.search-module .search-content .close[data-v-28a7b29f] {\n      background-color: #fcd667;\n      color: #0b0e31;\n      padding: 3px 15px;\n      padding-left: 5px;\n      border-radius: 3px;\n      margin-left: 20px;\n}\n.search-module .search-content .close[data-v-28a7b29f]:before {\n        content: '+';\n        color: #0b0e31;\n        font-weight: bold;\n        padding-right: 5px;\n        font-size: 20px;\n        display: inline-block;\n        -webkit-transform: rotate(-45deg);\n                transform: rotate(-45deg);\n}\n.search-module .search-content .query[data-v-28a7b29f] {\n      background-color: #0b0e31;\n      width: 100%;\n      padding: 10px 20px;\n      margin: 20px auto;\n}\n.search-module .search-content .query .key[data-v-28a7b29f] {\n        color: #fcd667;\n        font-weight: bold;\n        border: 2px solid #fcd667;\n        padding: 4px 20px;\n        padding-left: 5px;\n        border-radius: 30px;\n        vertical-align: middle;\n        margin-right: 10px;\n}\n.search-module .search-content .query .key span[data-v-28a7b29f] {\n          vertical-align: middle;\n}\n.search-module .search-content .query .key i[data-v-28a7b29f] {\n          vertical-align: middle;\n          color: #0b0e31;\n          background-color: #fcd667;\n          font-weight: bold;\n          font-size: 20px;\n          font-style: normal;\n          border-radius: 50%;\n          width: 20px;\n          height: 20px;\n          line-height: 17px;\n          margin-right: 10px;\n          text-align: center;\n          -webkit-transform: rotate(45deg);\n                  transform: rotate(45deg);\n}\n.results[data-v-28a7b29f] {\n  width: 100%;\n}\n.results .results-left[data-v-28a7b29f] {\n    width: 200px;\n    margin-right: 10px;\n}\n.results .results-left .choice[data-v-28a7b29f] {\n      padding: 10px 0px;\n}\n.results .results-left .choice .title[data-v-28a7b29f] {\n        font-size: 16px;\n        font-weight: bold;\n        color: #ffffff;\n        width: 100%;\n        position: relative;\n}\n.results .results-left .choice .title[data-v-28a7b29f]:after {\n          position: absolute;\n          right: 0px;\n          top: 5px;\n          display: inline-block;\n          content: '';\n          width: 8px;\n          height: 8px;\n          border-right: 2px solid #ffffff;\n          border-bottom: 2px solid #ffffff;\n          -webkit-transform: rotate(45deg);\n                  transform: rotate(45deg);\n}\n.results .results-left ul[data-v-28a7b29f] {\n      padding: 20px 0px;\n      border-bottom: 1px solid #0b0e31;\n}\n.results .results-left ul li[data-v-28a7b29f] {\n        padding-bottom: 10px;\n}\n.results .results-left ul li .fa[data-v-28a7b29f] {\n          font-size: 16px;\n          padding-right: 10px;\n}\n.results .results-left ul li .grey[data-v-28a7b29f] {\n          color: #ffffff;\n}\n.results .results-left ul li .grey-1[data-v-28a7b29f] {\n          color: #ffffff;\n}\n.results .results-left ul li .red[data-v-28a7b29f] {\n          color: #D9534F;\n}\n.results .results-left ul li .yellow[data-v-28a7b29f] {\n          color: #fcd667;\n}\n.results .results-left ul li span[data-v-28a7b29f] {\n          font-size: 14px;\n}\n.results .results-right[data-v-28a7b29f] {\n    width: 1000px;\n    vertical-align: top;\n}\n",""])},775:function(t,a,n){"use strict";n.d(a,"a",function(){return e}),n.d(a,"b",function(){return s});var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"body"},[n("div",{staticClass:"search-module"},[t._m(0),t._v(" "),n("div",{staticClass:"search-content"},[n("p",{staticClass:"result"},[t._v("已为您找到 "+t._s(t.paginateMeta.total_count||0)+" 个"),n("span",{staticClass:"value"},[t._v('"'+t._s(t.searchText)+'"')]),t.searchItems.length?n("span",{staticClass:"close hand",on:{click:t.resetSearch}},[t._v("撤销搜索")]):t._e()]),t._v(" "),n("p",{staticClass:"query"},t._l(t.searchItems,function(a){return n("span",{staticClass:"key hand dl"},[n("i",{staticClass:"dl",on:{click:function(n){t.toggleSearchItem(a)}}},[t._v("+")]),n("span",[t._v(t._s(a.name))])])})),t._v(" "),n("div",{staticClass:"results"},[n("div",{staticClass:"results-left dl"},[n("div",{staticClass:"choice"},[n("p",{staticClass:"title"},[t._v("筛选平台")]),t._v(" "),n("ul",t._l(t.vendors,function(a){return n("li",{staticClass:"hand",on:{click:function(n){t.toggleSearchItem(a)}}},[n("span",{staticClass:"fa grey",class:{yellow:a.isCheck}},[t._v(t._s(t.check))]),n("span",{staticClass:"grey-1",class:{yellow:a.isCheck}},[t._v(t._s(a.name))])])}))]),t._v(" "),n("div",{staticClass:"choice"},[n("p",{staticClass:"title"},[t._v("筛选类型")]),t._v(" "),n("ul",t._l(t.vendorsLabels,function(a){return n("li",{staticClass:"hand",on:{click:function(n){t.toggleSearchItem(a)}}},[n("span",{staticClass:"fa grey",class:{yellow:a.isCheck}},[t._v(t._s(t.check))]),n("span",{staticClass:"grey-1",class:{yellow:a.isCheck}},[t._v(t._s(a.name))])])}))])]),t._v(" "),n("div",{staticClass:"results-right dl"},[t._l(t.items,function(t,a){return n("game",{key:a,staticClass:"dl",attrs:{game:t}})}),t._v(" "),t.loading?n("loading",{attrs:{loading:t.loading}}):t.items&&!t.items.length?n("div",{staticClass:"error-all"}):t._e()],2)])])])])},s=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("p",{staticClass:"title-h1"},[n("span",[t._v("搜索结果")])])}];e._withStripped=!0},854:function(t,a,n){var e=n(552);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=n(3).default;s("7e59186a",e,!1,{})}});
//# sourceMappingURL=11.b70aac41fab1cce99b22.js.map