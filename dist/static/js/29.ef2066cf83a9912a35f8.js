webpackJsonp([29],{374:function(e,t,n){"use strict";function o(e){r||n(855)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(501),a=n(776),s=n(4),r=!1,l=o,d=n.i(s.a)(i.a,a.a,a.b,!1,l,"data-v-2e7c8062",null);d.options.__file="src/views/ForgetPassword.vue",t.default=d.exports},408:function(e,t,n){"use strict";function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=null,o=[];return function(){for(var i=arguments.length,s=Array(i),r=0;r<i;r++)s[r]=arguments[r];return clearTimeout(n),n=setTimeout(function(){var t=e.apply(void 0,s);o.forEach(function(e){return e(t)}),o=[]},t),new a.a(function(e){return o.push(e)})}}n.d(t,"b",function(){return s}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return l}),t.d=o;var i=n(51),a=n.n(i),s=function(e){return/^[1-9]+[0-9]*]*$/.test(e)},r=function(e,t){if("email"===e){return/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/.test(t)}if("mobile"===e){return/^1\d{10}$/.test(t)}if("name"===e){var n=t.toString().length;return n>=7&&n<=12}if("password"===e){var o=t.toString().length;return o>=6&&o<=12}if("bank"===e){return/^\d{16}|\d{19}$/.test(t)}},l=function(){var e=document.createElement("demo"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in t)if(void 0!==e.style[n])return t[n]}},501:function(e,t,n){"use strict";var o=n(408),i=n(28),a=n.n(i);t.a={data:function(){return{active:!0,left:this.$fontawesome("angle-left"),externalLink:this.$fontawesome("external-link"),emailCodeFlag:!0,mobileCodeFlag:!0,count:{email:60,mobile:60},profile:"",password:{password:"",rePassword:""},email:{email:"",code:"",password:""},mobile:{mobile:"",code:"",password:""}}},mounted:function(){},methods:{goHome:function(){this.$router.push({name:"Home"})},byEmail:function(){this.active=!0},byPhone:function(){this.active=!1},send:function(){this.active?this.resetPasswordViaEmail():this.resetPasswordViaMobile()},sendMobileResetCode:function(){var e=this;if(!n.i(o.a)("mobile",this.mobile.mobile))return void this.$message({message:"手机格式不对",showClose:!0,type:"error"});this.api.sendMobileResetCode({mobile:this.mobile.mobile}).then(function(t){e.mobileCodeFlag=!1;var n=setInterval(function(){0===--e.count.mobile&&(e.mobileCodeFlag=!0,e.count.mobile=60,window.clearInterval(n))},1e3);e.$message({message:"已发送验证码，请注意接收",type:"info"})}).catch(function(e){console.log(e)})},testPassword:function(){return this.password.password!==this.password.rePassword?(this.$message({message:"两次密码不一致",showClose:!0,type:"error"}),!1):!!n.i(o.a)("password",this.password.password)||(this.$message({message:"设置密码不符合要求",showClose:!0,type:"error"}),!1)},resetPasswordViaMobile:function(){var e=this;if(""===this.mobile.mobile||""===this.mobile.code||""===this.password.password)return void this.$message({message:"必填字段不能为空",showClose:!0,type:"error"});this.testPassword()&&(this.mobile.password=this.password.password,this.api.resetPasswordViaMobile(this.mobile).then(function(t){e.$message({message:"修改密码成功",type:"success"}),e.logOut()}).catch(function(e){console.log(e)}))},logOut:function(){var e=this,t=a.a.get("accessToken");this.api.logOut(t).then(function(){e.$store.dispatch("removeUserInfo"),a.a.remove("accessToken"),e.$router.push({name:"Home"}),e.$store.dispatch("setLoginFlag",!0),e.$message({message:"请重新登录",type:"info"})}).catch(function(e){console.log(e)})},sendEmailResetCode:function(){var e=this;if(!n.i(o.a)("email",this.email.email))return void this.$message({message:"邮箱格式不对",showClose:!0,type:"error"});this.api.sendEmailResetCode({email:this.email.email}).then(function(t){e.emailCodeFlag=!1;var n=setInterval(function(){0===--e.count.email&&(e.emailCodeFlag=!0,e.count.email=60,window.clearInterval(n))},1e3);e.$message({message:"已发送验证码，请注意接收",type:"info"})}).catch(function(e){console.log(e)})},resetPasswordViaEmail:function(){var e=this;if(""===this.email.email||""===this.email.code||""===this.password.password)return void this.$message({message:"必填字段不能为空",showClose:!0,type:"error"});this.testPassword()&&(this.email.password=this.password.password,this.api.resetPasswordViaEmail(this.email).then(function(t){e.$message({message:"修改密码成功",type:"success"}),e.logOut()}).catch(function(e){console.log(e)}))}}}},553:function(e,t,n){t=e.exports=n(2)(!1),t.push([e.i,"\n.overflow[data-v-2e7c8062] {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.break-word[data-v-2e7c8062] {\n  word-wrap: break-word;\n  word-break: break-all;\n}\n.sr-only[data-v-2e7c8062] {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}\n.body[data-v-2e7c8062] {\n  padding-top: 50px;\n  padding-bottom: 100px;\n}\n.head[data-v-2e7c8062] {\n  height: 50px;\n  line-height: 50px;\n  padding: 0px 10px;\n  background-color: #CF1031;\n  text-align: center;\n  color: #ffffff;\n  position: fixed;\n  width: 100%;\n  z-index: 30;\n}\n.head .fl[data-v-2e7c8062], .head .fr[data-v-2e7c8062] {\n    line-height: inherit;\n}\n.head .fl[data-v-2e7c8062] {\n    font-size: 24px;\n}\n.mint-header .re-button[data-v-2e7c8062] {\n  overflow: visible;\n}\n.button[data-v-2e7c8062] {\n  width: 200px;\n  margin: 10px auto;\n  padding: 10px 40px;\n  text-align: center;\n  border-radius: 25px;\n}\n.fill-red[data-v-2e7c8062] {\n  background-color: #D9534F;\n  color: #ffffff;\n  margin-right: 20px;\n}\n.fill-yellow1[data-v-2e7c8062] {\n  background-color: #fcd667;\n  color: #0b0e31;\n  margin-right: 20px;\n}\n.fill-yellow2[data-v-2e7c8062] {\n  border: 2px solid #fcd667;\n  color: #fcd667;\n}\n.fill-white[data-v-2e7c8062] {\n  background-color: #ffffff;\n  color: #D9534F;\n  border: 1px solid #D9534F;\n}\n.forgot[data-v-2e7c8062] {\n  text-align: center;\n  color: #0B7DB1;\n}\n.forgot .fa[data-v-2e7c8062] {\n    position: relative;\n    top: 2px;\n    left: 2px;\n}\n.main[data-v-2e7c8062] {\n  width: 680px;\n  margin: 0px auto;\n  padding-bottom: 20px;\n}\n.main .title[data-v-2e7c8062] {\n    text-align: center;\n    color: #ffffff;\n    font-size: 24px;\n    margin-bottom: 20px;\n}\n.main .dl[data-v-2e7c8062] {\n    display: inline-block;\n}\n.main .code-txt[data-v-2e7c8062] {\n    width: 455px;\n}\n.main .code-seconds[data-v-2e7c8062] {\n    padding: 10px;\n    border: 1px solid #6092DF;\n    background: #D7D7D7;\n    color: #ffffff;\n    border-radius: 5px;\n    width: 140px;\n}\n.main .get-code[data-v-2e7c8062] {\n    padding: 10px;\n    background-color: #4A90E2;\n    border: 1px solid #6092DF;\n    color: #ffffff;\n    border-radius: 5px;\n    width: 140px;\n}\n.main input[data-v-2e7c8062] {\n    width: 100%;\n    margin-bottom: 20px;\n    padding: 10px 15px;\n    border: 1px solid #E0DFDF;\n    border-radius: 5px;\n}\n.main-body[data-v-2e7c8062] {\n  width: 100%;\n  background-color: #0b0e31;\n  border: 10px solid #122151;\n  border-radius: 10px;\n  margin: 0px auto;\n  padding: 30px;\n}\n.main-body .info[data-v-2e7c8062] {\n    color: #ffffff;\n    text-align: left;\n}\n.main-body .info[data-v-2e7c8062]:last-of-type {\n      margin-bottom: 20px;\n}\n.main-body .fill-button[data-v-2e7c8062] {\n    text-align: center;\n}\n.main-body .fill-in .input-title[data-v-2e7c8062] {\n    color: #ffffff;\n    padding: 0px 10px;\n    margin-bottom: 10px;\n    height: 12px;\n    line-height: 12px;\n    text-align: left;\n    border-left: 4px solid #fcd667;\n}\n",""])},776:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"body"},[n("div",{staticClass:"main"},[n("p",{staticClass:"title"},[e._v("忘记密码")]),e._v(" "),n("div",{staticClass:"main-body"},[n("p",{staticClass:"info"},[e._v("请输入您登录用的电子邮箱或手机号码，系统将为您发送包含验证码的邮件或短信。")]),e._v(" "),n("p",{staticClass:"info"},[e._v("验证通过后，系统将允许您重新设定密码。")]),e._v(" "),e.active?n("div",{staticClass:"fill-in"},[n("p",{staticClass:"input-title"},[e._v("通过注册邮箱找回")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email.email,expression:"email.email"}],attrs:{type:"email",placeholder:"邮箱地址"},domProps:{value:e.email.email},on:{input:function(t){t.target.composing||e.$set(e.email,"email",t.target.value)}}}),e._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email.code,expression:"email.code"}],staticClass:"dl code-txt",attrs:{type:"text",placeholder:"验证码"},domProps:{value:e.email.code},on:{input:function(t){t.target.composing||e.$set(e.email,"code",t.target.value)}}}),e._v(" "),e.emailCodeFlag?n("input",{staticClass:"dl get-code hand",attrs:{type:"button",value:"点击获取"},on:{click:function(t){e.sendEmailResetCode()}}}):n("span",{staticClass:"code-seconds"},[e._v(e._s(e.count.email)+"秒后重新获取")])])]):e._e(),e._v(" "),e.active?e._e():n("div",{staticClass:"fill-in"},[n("p",{staticClass:"input-title"},[e._v("通过注册手机号找回")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile.mobile,expression:"mobile.mobile"}],attrs:{type:"number",placeholder:"11位大陆手机号码"},domProps:{value:e.mobile.mobile},on:{input:function(t){t.target.composing||e.$set(e.mobile,"mobile",t.target.value)}}}),e._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile.code,expression:"mobile.code"}],staticClass:"dl code-txt",attrs:{type:"text",placeholder:"验证码"},domProps:{value:e.mobile.code},on:{input:function(t){t.target.composing||e.$set(e.mobile,"code",t.target.value)}}}),e._v(" "),e.mobileCodeFlag?n("input",{staticClass:"dl get-code hand",attrs:{type:"button",value:"点击获取"},on:{click:function(t){e.sendMobileResetCode()}}}):n("span",{staticClass:"code-seconds"},[e._v(e._s(e.count.mobile)+"秒后重新获取")])])]),e._v(" "),e.email.code||e.mobile.code?n("div",{staticClass:"fill-in"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password.password,expression:"password.password"}],attrs:{type:"password",placeholder:"新密码(字数在6~12之间)"},domProps:{value:e.password.password},on:{input:function(t){t.target.composing||e.$set(e.password,"password",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password.rePassword,expression:"password.rePassword"}],attrs:{type:"password",placeholder:"确认新密码(字数在6~12之间)"},domProps:{value:e.password.rePassword},on:{input:function(t){t.target.composing||e.$set(e.password,"rePassword",t.target.value)}}})]):e._e(),e._v(" "),n("div",{staticClass:"fill-button"},[n("span",{staticClass:"button fill-yellow1 hand dl",on:{click:function(t){e.send()}}},[e._v("提交验证码")]),e._v(" "),e.active?n("span",{staticClass:"button fill-yellow2 hand dl",on:{click:function(t){e.byPhone()}}},[e._v("通过手机号码找回")]):n("span",{staticClass:"button fill-yellow2 hand dl",on:{click:function(t){e.byEmail()}}},[e._v("通过电子邮箱找回")])])])])])},i=[];o._withStripped=!0},855:function(e,t,n){var o=n(553);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n(3).default;i("8b2055de",o,!1,{})}});
//# sourceMappingURL=29.ef2066cf83a9912a35f8.js.map